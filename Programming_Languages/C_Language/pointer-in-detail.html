<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Complete Guide to C Pointers</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --secondary-color: #1e40af;
            --accent-color: #3b82f6;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --text-primary: #1e293b;
            --text-secondary: #64748b;
            --border-color: #e2e8f0;
            --code-bg: #1e293b;
            --code-text: #e2e8f0;
            --success-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;
        }
        html{
            scroll-behavior: smooth;
            scroll-padding-top: 30px;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 0;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
        }

        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Navigation */
        nav {
            background: var(--card-bg);
            padding: 1rem 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-links {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 2rem;
            list-style: none;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        .nav-links a:hover {
            background: var(--primary-color);
            color: white;
        }

        /* Main Content */
        main {
            padding: 2rem 0;
        }

        .section {
            background: var(--card-bg);
            margin: 2rem 0;
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--border-color);
        }

        .section h2 {
            color: var(--primary-color);
            font-size: 2rem;
            margin-bottom: 1rem;
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 0.5rem;
        }

        .section h3 {
            color: var(--secondary-color);
            font-size: 1.5rem;
            margin: 1.5rem 0 1rem 0;
        }

        .section h4 {
            color: var(--text-primary);
            font-size: 1.2rem;
            margin: 1rem 0 0.5rem 0;
        }

        /* Code Blocks */
        .code-block {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1rem 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.4;
            position: relative;
        }

        .code-block::before {
            content: 'C';
            position: absolute;
            top: 0.5rem;
            right: 1rem;
            background: var(--accent-color);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        /* Interactive Examples */
        .interactive-example {
            background: linear-gradient(135deg, #f0f9ff, #e0f2fe);
            border: 2px solid var(--accent-color);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
        }

        .interactive-example h4 {
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .demo-button {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 500;
            transition: all 0.3s ease;
            margin: 0.5rem 0.5rem 0.5rem 0;
        }

        .demo-button:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .output {
            background: var(--code-bg);
            color: var(--code-text);
            padding: 1rem;
            border-radius: 6px;
            margin-top: 1rem;
            font-family: monospace;
            min-height: 50px;
            white-space: pre-wrap;
        }

        /* Memory Visualization */
        .memory-visual {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1rem 0;
            justify-content: center;
        }

        .memory-cell {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            min-width: 120px;
            transition: all 0.3s ease;
        }

        .memory-cell.highlighted {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
        }

        .memory-address {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
        }

        .memory-value {
            font-weight: bold;
            color: var(--primary-color);
        }

        /* Info Boxes */
        .info-box {
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid;
        }

        .info-box.tip {
            background: #f0fdf4;
            border-color: var(--success-color);
        }

        .info-box.warning {
            background: #fffbeb;
            border-color: var(--warning-color);
        }

        .info-box.danger {
            background: #fef2f2;
            border-color: var(--error-color);
        }

        .info-box h4 {
            margin-bottom: 0.5rem;
        }

        .info-box.tip h4 {
            color: var(--success-color);
        }

        .info-box.warning h4 {
            color: var(--warning-color);
        }

        .info-box.danger h4 {
            color: var(--error-color);
        }

        /* Progress Bar */
        .progress-container {
            background: var(--border-color);
            height: 6px;
            border-radius: 3px;
            position: sticky;
            z-index: 999;
            top: 58px;
            margin: 2rem 0;
            /* overflow: hidden; */
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Footer */
        footer {
            background: var(--text-primary);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
        }

        footer h3 {
            margin-bottom: 1rem;
        }

        footer p {
            opacity: 0.8;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            header h1 {
                font-size: 2rem;
            }

            header p {
                font-size: 1rem;
            }

            .nav-links {
                gap: 1rem;
            }

            .section {
                padding: 1.5rem;
            }

            .section h2 {
                font-size: 1.5rem;
            }

            .memory-visual {
                flex-direction: column;
                align-items: center;
            }

            .code-block {
                font-size: 0.8rem;
                padding: 1rem;
            }
        }

        @media (max-width: 480px) {
            .nav-links {
                flex-direction: column;
                gap: 0.5rem;
            }

            .demo-button {
                width: 100%;
                margin: 0.5rem 0;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .section {
            animation: fadeIn 0.6s ease-out;
        }

        /* Syntax Highlighting */
        .keyword { color: #ff79c6; }
        .string { color: #f1fa8c; }
        .comment { color: #6272a4; font-style: italic; }
        .number { color: #bd93f9; }
        .function { color: #50fa7b; }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>Complete Guide to C Pointers</h1>
            <p>Master the fundamentals of pointers, memory management, and dynamic allocation</p>
        </div>
    </header>

    <nav>
        <div class="container">
            <ul class="nav-links">
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#basics">Basics</a></li>
                <li><a href="#operations">Operations</a></li>
                <li><a href="#arrays">Arrays</a></li>
                <li><a href="#functions">Functions</a></li>
                <li><a href="#dynamic">Dynamic Memory</a></li>
                <li><a href="#advanced">Advanced</a></li>
                <li><a href="#best-practices">Best Practices</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <div class="container">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <!-- Introduction Section -->
            <section id="introduction" class="section">
                <h2>1. What are Pointers?</h2>
                
                <p>A <strong>pointer</strong> is a variable that stores the memory address of another variable. Think of it as a "reference" or "address" that points to where data is stored in computer memory.</p>

                <h3>Real-World Analogy</h3>
                <p>Imagine your house address (123 Main Street). The address itself isn't your house, but it tells someone where to find your house. Similarly, a pointer isn't the data itself, but it tells the computer where to find the data in memory.</p>

                <div class="interactive-example">
                    <h4>Memory Visualization</h4>
                    <p>Click the button to see how variables are stored in memory:</p>
                    <button class="demo-button" onclick="showMemoryLayout()">Show Memory Layout</button>
                    <div class="memory-visual" id="memoryLayout"></div>
                </div>

                <h3>Why Use Pointers?</h3>
                <ul>
                    <li><strong>Dynamic Memory Allocation:</strong> Create variables at runtime</li>
                    <li><strong>Efficient Parameter Passing:</strong> Pass large data structures without copying</li>
                    <li><strong>Data Structure Implementation:</strong> Build linked lists, trees, graphs</li>
                    <li><strong>Function Flexibility:</strong> Allow functions to modify multiple values</li>
                    <li><strong>Memory Management:</strong> Control exactly how memory is used</li>
                </ul>

                <div class="info-box tip">
                    <h4>💡 Key Concept</h4>
                    <p>Every variable in C has two properties: its <strong>value</strong> and its <strong>address</strong> in memory. Pointers work with addresses.</p>
                </div>
            </section>

            <!-- Basics Section -->
            <section id="basics" class="section">
                <h2>2. Pointer Basics</h2>

                <h3>Memory Addresses</h3>
                <p>Every byte in computer memory has a unique address, typically represented as hexadecimal numbers (like 0x7fff5fbff61c).</p>

                <div class="code-block">
<span class="keyword">#include</span> <span class="string">&lt;stdio.h&gt;</span>

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> number = <span class="number">42</span>;
    
    <span class="comment">// Print the value and address of the variable</span>
    <span class="function">printf</span>(<span class="string">"Value: %d\n"</span>, number);
    <span class="function">printf</span>(<span class="string">"Address: %p\n"</span>, &number);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <h3>Pointer Declaration</h3>
                <p>To declare a pointer, use the asterisk (*) symbol:</p>

                <div class="code-block">
<span class="keyword">int</span> *ptr;        <span class="comment">// Pointer to an integer</span>
<span class="keyword">char</span> *charPtr;   <span class="comment">// Pointer to a character</span>
<span class="keyword">float</span> *floatPtr; <span class="comment">// Pointer to a float</span>
<span class="keyword">double</span> *dblPtr;  <span class="comment">// Pointer to a double</span>
                </div>

                <h3>The Two Main Operators</h3>
                <h4>1. Address-of Operator (&)</h4>
                <p>Gets the memory address of a variable.</p>

                <h4>2. Dereference Operator (*)</h4>
                <p>Accesses the value stored at the memory address.</p>

                <div class="interactive-example">
                    <h4>Interactive Pointer Demo</h4>
                    <button class="demo-button" onclick="demonstratePointers()">Run Pointer Example</button>
                    <div class="output" id="pointerOutput"></div>
                </div>

                <div class="code-block">
<span class="keyword">#include</span> <span class="string">&lt;stdio.h&gt;</span>

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> number = <span class="number">25</span>;
    <span class="keyword">int</span> *ptr;
    
    <span class="comment">// Step 1: Assign address of number to ptr</span>
    ptr = &number;
    
    <span class="comment">// Step 2: Print various information</span>
    <span class="function">printf</span>(<span class="string">"Value of number: %d\n"</span>, number);
    <span class="function">printf</span>(<span class="string">"Address of number: %p\n"</span>, &number);
    <span class="function">printf</span>(<span class="string">"Value of ptr: %p\n"</span>, ptr);
    <span class="function">printf</span>(<span class="string">"Value pointed by ptr: %d\n"</span>, *ptr);
    
    <span class="comment">// Step 3: Modify value through pointer</span>
    *ptr = <span class="number">50</span>;
    <span class="function">printf</span>(<span class="string">"New value of number: %d\n"</span>, number);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <div class="info-box warning">
                    <h4>⚠️ Common Mistake</h4>
                    <p>Don't confuse the declaration asterisk (*) with the dereference asterisk (*). They look the same but serve different purposes!</p>
                </div>
            </section>

            <!-- Operations Section -->
            <section id="operations" class="section">
                <h2>3. Pointer Operations</h2>

                <h3>Pointer Arithmetic</h3>
                <p>You can perform arithmetic operations on pointers, but they work differently than regular arithmetic:</p>

                <div class="code-block">
<span class="keyword">#include</span> <span class="string">&lt;stdio.h&gt;</span>

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> arr[] = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>};
    <span class="keyword">int</span> *ptr = arr;  <span class="comment">// Points to first element</span>
    
    <span class="function">printf</span>(<span class="string">"ptr points to: %d\n"</span>, *ptr);        <span class="comment">// 10</span>
    
    ptr++;  <span class="comment">// Move to next integer (not next byte!)</span>
    <span class="function">printf</span>(<span class="string">"ptr+1 points to: %d\n"</span>, *ptr);      <span class="comment">// 20</span>
    
    ptr += <span class="number">2</span>;  <span class="comment">// Move 2 integers forward</span>
    <span class="function">printf</span>(<span class="string">"ptr+3 points to: %d\n"</span>, *ptr);      <span class="comment">// 40</span>
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <div class="interactive-example">
                    <h4>Pointer Arithmetic Visualization</h4>
                    <button class="demo-button" onclick="demonstrateArithmetic()">Show Pointer Movement</button>
                    <div class="memory-visual" id="arithmeticDemo"></div>
                    <div class="output" id="arithmeticOutput"></div>
                </div>

                <h3>Pointer Comparison</h3>
                <p>You can compare pointers using relational operators:</p>

                <div class="code-block">
<span class="keyword">int</span> arr[] = {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>};
<span class="keyword">int</span> *ptr1 = &arr[<span class="number">1</span>];
<span class="keyword">int</span> *ptr2 = &arr[<span class="number">3</span>];

<span class="keyword">if</span> (ptr1 < ptr2) {
    <span class="function">printf</span>(<span class="string">"ptr1 comes before ptr2 in memory\n"</span>);
}

<span class="keyword">if</span> (ptr1 == &arr[<span class="number">1</span>]) {
    <span class="function">printf</span>(<span class="string">"ptr1 points to arr[1]\n"</span>);
}
                </div>

                <h3>Null Pointers</h3>
                <p>A null pointer doesn't point to any valid memory location:</p>

                <div class="code-block">
<span class="keyword">int</span> *ptr = <span class="keyword">NULL</span>;  <span class="comment">// or ptr = 0;</span>

<span class="comment">// Always check before dereferencing!</span>
<span class="keyword">if</span> (ptr != <span class="keyword">NULL</span>) {
    <span class="function">printf</span>(<span class="string">"Value: %d\n"</span>, *ptr);
} <span class="keyword">else</span> {
    <span class="function">printf</span>(<span class="string">"Pointer is NULL\n"</span>);
}
                </div>

                <div class="info-box danger">
                    <h4>🚨 Critical Warning</h4>
                    <p>Dereferencing a NULL pointer or uninitialized pointer causes undefined behavior and often crashes your program!</p>
                </div>
            </section>

            <!-- Arrays Section -->
            <section id="arrays" class="section">
                <h2>4. Pointers and Arrays</h2>

                <h3>Array-Pointer Relationship</h3>
                <p>In C, array names are essentially pointers to the first element:</p>

                <div class="code-block">
<span class="keyword">int</span> arr[] = {<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>, <span class="number">40</span>, <span class="number">50</span>};
<span class="keyword">int</span> *ptr = arr;  <span class="comment">// Same as ptr = &arr[0]</span>

<span class="comment">// These are equivalent:</span>
<span class="function">printf</span>(<span class="string">"%d\n"</span>, arr[<span class="number">2</span>]);    <span class="comment">// Array notation</span>
<span class="function">printf</span>(<span class="string">"%d\n"</span>, *(arr + <span class="number">2</span>)); <span class="comment">// Pointer notation</span>
<span class="function">printf</span>(<span class="string">"%d\n"</span>, ptr[<span class="number">2</span>]);    <span class="comment">// Pointer as array</span>
<span class="function">printf</span>(<span class="string">"%d\n"</span>, *(ptr + <span class="number">2</span>)); <span class="comment">// Pointer arithmetic</span>
                </div>

                <div class="interactive-example">
                    <h4>Array Traversal with Pointers</h4>
                    <button class="demo-button" onclick="demonstrateArrayTraversal()">Traverse Array</button>
                    <div class="output" id="arrayOutput"></div>
                </div>

                <h3>Multi-dimensional Arrays</h3>
                <p>Pointers can work with 2D arrays too:</p>

                <div class="code-block">
<span class="keyword">int</span> matrix[<span class="number">3</span>][<span class="number">4</span>] = {
    {<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>},
    {<span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>},
    {<span class="number">9</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>}
};

<span class="keyword">int</span> *ptr = &matrix[<span class="number">0</span>][<span class="number">0</span>];  <span class="comment">// Points to first element</span>

<span class="comment">// Access elements using pointer arithmetic</span>
<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < <span class="number">12</span>; i++) {
    <span class="function">printf</span>(<span class="string">"%d "</span>, *(ptr + i));
}
                </div>

                <h3>String Manipulation</h3>
                <p>Strings in C are arrays of characters, so pointers work great with them:</p>

                <div class="code-block">
<span class="keyword">char</span> str[] = <span class="string">"Hello World"</span>;
<span class="keyword">char</span> *ptr = str;

<span class="comment">// Print each character</span>
<span class="keyword">while</span> (*ptr != <span class="string">'\0'</span>) {
    <span class="function">printf</span>(<span class="string">"%c"</span>, *ptr);
    ptr++;
}
                </div>

                <div class="interactive-example">
                    <h4>String Reversal with Pointers</h4>
                    <button class="demo-button" onclick="demonstrateStringReverse()">Reverse String</button>
                    <div class="output" id="stringOutput"></div>
                </div>
            </section>

            <!-- Functions Section -->
            <section id="functions" class="section">
                <h2>5. Pointers and Functions</h2>

                <h3>Pass by Reference</h3>
                <p>Use pointers to allow functions to modify the original variables:</p>

                <div class="code-block">
<span class="comment">// Function to swap two integers</span>
<span class="keyword">void</span> <span class="function">swap</span>(<span class="keyword">int</span> *a, <span class="keyword">int</span> *b) {
    <span class="keyword">int</span> temp = *a;
    *a = *b;
    *b = temp;
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> x = <span class="number">10</span>, y = <span class="number">20</span>;
    
    <span class="function">printf</span>(<span class="string">"Before swap: x=%d, y=%d\n"</span>, x, y);
    <span class="function">swap</span>(&x, &y);  <span class="comment">// Pass addresses</span>
    <span class="function">printf</span>(<span class="string">"After swap: x=%d, y=%d\n"</span>, x, y);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <div class="interactive-example">
                    <h4>Function Parameter Demo</h4>
                    <button class="demo-button" onclick="demonstrateSwap()">Test Swap Function</button>
                    <div class="output" id="swapOutput"></div>
                </div>

                <h3>Returning Multiple Values</h3>
                <p>Functions can "return" multiple values using pointers:</p>

                <div class="code-block">
<span class="comment">// Function to calculate both quotient and remainder</span>
<span class="keyword">void</span> <span class="function">divmod</span>(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor, <span class="keyword">int</span> *quotient, <span class="keyword">int</span> *remainder) {
    *quotient = dividend / divisor;
    *remainder = dividend % divisor;
}

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> q, r;
    <span class="function">divmod</span>(<span class="number">17</span>, <span class="number">5</span>, &q, &r);
    <span class="function">printf</span>(<span class="string">"17 ÷ 5 = %d remainder %d\n"</span>, q, r);
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <h3>Function Pointers</h3>
                <p>You can store function addresses in pointers too:</p>

                <div class="code-block">
<span class="keyword">int</span> <span class="function">add</span>(<span class="keyword">int</span> a, <span class="keyword">int</span> b) { <span class="keyword">return</span> a + b; }
<span class="keyword">int</span> <span class="function">multiply</span>(<span class="keyword">int</span> a, <span class="keyword">int</span> b) { <span class="keyword">return</span> a * b; }

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="comment">// Declare function pointer</span>
    <span class="keyword">int</span> (*operation)(<span class="keyword">int</span>, <span class="keyword">int</span>);
    
    operation = add;
    <span class="function">printf</span>(<span class="string">"5 + 3 = %d\n"</span>, operation(<span class="number">5</span>, <span class="number">3</span>));
    
    operation = multiply;
    <span class="function">printf</span>(<span class="string">"5 * 3 = %d\n"</span>, operation(<span class="number">5</span>, <span class="number">3</span>));
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <div class="interactive-example">
                    <h4>Function Pointer Calculator</h4>
                    <button class="demo-button" onclick="demonstrateFunctionPointers()">Run Calculator</button>
                    <div class="output" id="functionOutput"></div>
                </div>
            </section>

            <!-- Dynamic Memory Section -->
            <section id="dynamic" class="section">
                <h2>6. Dynamic Memory Allocation</h2>

                <h3>Why Dynamic Memory?</h3>
                <p>Sometimes you don't know how much memory you need until runtime. Dynamic allocation lets you request memory as needed.</p>

                <h3>malloc() - Memory Allocation</h3>
                <p>Allocates a block of memory and returns a pointer to it:</p>

                <div class="code-block">
<span class="keyword">#include</span> <span class="string">&lt;stdio.h&gt;</span>
<span class="keyword">#include</span> <span class="string">&lt;stdlib.h&gt;</span>

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">int</span> n;
    <span class="function">printf</span>(<span class="string">"How many integers? "</span>);
    <span class="function">scanf</span>(<span class="string">"%d"</span>, &n);
    
    <span class="comment">// Allocate memory for n integers</span>
    <span class="keyword">int</span> *arr = (<span class="keyword">int</span>*)malloc(n * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
    
    <span class="keyword">if</span> (arr == <span class="keyword">NULL</span>) {
        <span class="function">printf</span>(<span class="string">"Memory allocation failed!\n"</span>);
        <span class="keyword">return</span> <span class="number">1</span>;
    }
    
    <span class="comment">// Use the allocated memory</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < n; i++) {
        arr[i] = i * i;  <span class="comment">// Store squares</span>
    }
    
    <span class="comment">// Print the values</span>
    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < n; i++) {
        <span class="function">printf</span>(<span class="string">"%d² = %d\n"</span>, i, arr[i]);
    }
    
    <span class="comment">// Always free allocated memory!</span>
    <span class="function">free</span>(arr);
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <div class="interactive-example">
                    <h4>Dynamic Array Demo</h4>
                    <button class="demo-button" onclick="demonstrateMalloc()">Create Dynamic Array</button>
                    <div class="output" id="mallocOutput"></div>
                </div>

                <h3>Other Memory Functions</h3>

                <h4>calloc() - Cleared Allocation</h4>
                <p>Like malloc(), but initializes memory to zero:</p>

                <div class="code-block">
<span class="comment">// Allocate and initialize to zero</span>
<span class="keyword">int</span> *arr = (<span class="keyword">int</span>*)calloc(<span class="number">5</span>, <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
<span class="comment">// All elements are automatically 0</span>
                </div>

                <h4>realloc() - Resize Memory</h4>
                <p>Changes the size of previously allocated memory:</p>

                <div class="code-block">
<span class="keyword">int</span> *arr = (<span class="keyword">int</span>*)malloc(<span class="number">5</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
<span class="comment">// ... use the array ...</span>

<span class="comment">// Need more space? Resize it!</span>
arr = (<span class="keyword">int</span>*)realloc(arr, <span class="number">10</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
                </div>

                <h4>free() - Deallocate Memory</h4>
                <p>Returns memory back to the system:</p>

                <div class="code-block">
<span class="function">free</span>(arr);
arr = <span class="keyword">NULL</span>;  <span class="comment">// Good practice to avoid dangling pointers</span>
                </div>

                <div class="info-box danger">
                    <h4>🚨 Memory Management Rules</h4>
                    <ul>
                        <li>Every malloc() must have a corresponding free()</li>
                        <li>Don't use memory after freeing it</li>
                        <li>Don't free the same memory twice</li>
                        <li>Always check if malloc() returns NULL</li>
                    </ul>
                </div>

                <h3>Memory Leaks</h3>
                <p>A memory leak occurs when you allocate memory but forget to free it:</p>

                <div class="code-block">
<span class="comment">// BAD: Memory leak!</span>
<span class="keyword">void</span> <span class="function">bad_function</span>() {
    <span class="keyword">int</span> *ptr = (<span class="keyword">int</span>*)malloc(<span class="number">100</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
    <span class="comment">// ... do something ...</span>
    <span class="keyword">return</span>;  <span class="comment">// Oops! Forgot to free(ptr)</span>
}

<span class="comment">// GOOD: Proper cleanup</span>
<span class="keyword">void</span> <span class="function">good_function</span>() {
    <span class="keyword">int</span> *ptr = (<span class="keyword">int</span>*)malloc(<span class="number">100</span> * <span class="keyword">sizeof</span>(<span class="keyword">int</span>));
    <span class="keyword">if</span> (ptr == <span class="keyword">NULL</span>) <span class="keyword">return</span>;
    
    <span class="comment">// ... do something ...</span>
    
    <span class="function">free</span>(ptr);  <span class="comment">// Always clean up!</span>
    ptr = <span class="keyword">NULL</span>;
}
                </div>
            </section>

            <!-- Advanced Section -->
            <section id="advanced" class="section">
                <h2>7. Advanced Pointer Concepts</h2>

                <h3>Pointer to Pointer</h3>
                <p>A pointer can point to another pointer:</p>

                <div class="code-block">
<span class="keyword">int</span> value = <span class="number">42</span>;
<span class="keyword">int</span> *ptr = &value;      <span class="comment">// Pointer to int</span>
<span class="keyword">int</span> **pptr = &ptr;     <span class="comment">// Pointer to pointer to int</span>

<span class="function">printf</span>(<span class="string">"Value: %d\n"</span>, value);        <span class="comment">// 42</span>
<span class="function">printf</span>(<span class="string">"Via ptr: %d\n"</span>, *ptr);      <span class="comment">// 42</span>
<span class="function">printf</span>(<span class="string">"Via pptr: %d\n"</span>, **pptr);   <span class="comment">// 42</span>
                </div>

                <div class="interactive-example">
                    <h4>Pointer to Pointer Demo</h4>
                    <button class="demo-button" onclick="demonstrateDoublePointer()">Show Double Pointer</button>
                    <div class="output" id="doublePointerOutput"></div>
                </div>

                <h3>Array of Pointers</h3>
                <p>You can create arrays where each element is a pointer:</p>

                <div class="code-block">
<span class="keyword">char</span> *names[] = {
    <span class="string">"Alice"</span>,
    <span class="string">"Bob"</span>,
    <span class="string">"Charlie"</span>,
    <span class="string">"Diana"</span>
};

<span class="keyword">int</span> count = <span class="keyword">sizeof</span>(names) / <span class="keyword">sizeof</span>(names[<span class="number">0</span>]);

<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i < count; i++) {
    <span class="function">printf</span>(<span class="string">"Name %d: %s\n"</span>, i + <span class="number">1</span>, names[i]);
}
                </div>

                <h3>Structures and Pointers</h3>
                <p>Pointers work great with structures:</p>

                <div class="code-block">
<span class="keyword">struct</span> Person {
    <span class="keyword">char</span> name[<span class="number">50</span>];
    <span class="keyword">int</span> age;
    <span class="keyword">float</span> height;
};

<span class="keyword">int</span> <span class="function">main</span>() {
    <span class="keyword">struct</span> Person person = {<span class="string">"John Doe"</span>, <span class="number">25</span>, <span class="number">5.9</span>};
    <span class="keyword">struct</span> Person *ptr = &person;
    
    <span class="comment">// Two ways to access structure members through pointer</span>
    <span class="function">printf</span>(<span class="string">"Name: %s\n"</span>, (*ptr).name);  <span class="comment">// Method 1</span>
    <span class="function">printf</span>(<span class="string">"Age: %d\n"</span>, ptr->age);       <span class="comment">// Method 2 (preferred)</span>
    <span class="function">printf</span>(<span class="string">"Height: %.1f\n"</span>, ptr->height);
    
    <span class="keyword">return</span> <span class="number">0</span>;
}
                </div>

                <h3>Linked Lists</h3>
                <p>Pointers enable dynamic data structures like linked lists:</p>

                <div class="code-block">
<span class="keyword">struct</span> Node {
    <span class="keyword">int</span> data;
    <span class="keyword">struct</span> Node *next;
};

<span class="comment">// Create a simple linked list</span>
<span class="keyword">struct</span> Node *head = (<span class="keyword">struct</span> Node*)malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));
head->data = <span class="number">10</span>;
head->next = (<span class="keyword">struct</span> Node*)malloc(<span class="keyword">sizeof</span>(<span class="keyword">struct</span> Node));
head->next->data = <span class="number">20</span>;
head->next->next = <span class="keyword">NULL</span>;

<span class="comment">// Traverse the list</span>
<span class="keyword">struct</span> Node *current = head;
<span class="keyword">while</span> (current != <span class="keyword">NULL</span>) {
    <span class="function">printf</span>(<span class="string">"%d -> "</span>, current->data);
    current = current->next;
}
<span class="function">printf</span>(<span class="string">"NULL\n"</span>);
                </div>

                <div class="interactive-example">
                    <h4>Linked List Demo</h4>
                    <button class="demo-button" onclick="demonstrateLinkedList()">Create Linked List</button>
                    <div class="output" id="linkedListOutput"></div>
                </div>
            </section>

            <!-- Best Practices Section -->
            <section id="best-practices" class="section">
                <h2>8. Best Practices and Common Pitfalls</h2>

                <h3>✅ Best Practices</h3>
                <div class="info-box tip">
                    <h4>Memory Management</h4>
                    <ul>
                        <li>Always initialize pointers (to NULL if nothing else)</li>
                        <li>Check malloc() return value before using</li>
                        <li>Free every malloc() with corresponding free()</li>
                        <li>Set pointers to NULL after freeing</li>
                    </ul>
                </div>

                <div class="info-box tip">
                    <h4>Safe Coding</h4>
                    <ul>
                        <li>Always validate pointer parameters in functions</li>
                        <li>Use const for pointers that shouldn't modify data</li>
                        <li>Prefer array notation over pointer arithmetic when possible</li>
                        <li>Use meaningful variable names</li>
                    </ul>
                </div>

                <h3>❌ Common Pitfalls</h3>

                <h4>1. Uninitialized Pointers</h4>
                <div class="code-block">
<span class="comment">// BAD</span>
<span class="keyword">int</span> *ptr;
*ptr = <span class="number">10</span>;  <span class="comment">// Undefined behavior!</span>

<span class="comment">// GOOD</span>
<span class="keyword">int</span> *ptr = <span class="keyword">NULL</span>;
<span class="keyword">int</span> value = <span class="number">42</span>;
ptr = &value;
*ptr = <span class="number">10</span>;  <span class="comment">// Safe</span>
                </div>

                <h4>2. Dangling Pointers</h4>
                <div class="code-block">
<span class="comment">// BAD</span>
<span class="keyword">int</span> *ptr = (<span class="keyword">int</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));
<span class="function">free</span>(ptr);
*ptr = <span class="number">10</span>;  <span class="comment">// Using freed memory!</span>

<span class="comment">// GOOD</span>
<span class="keyword">int</span> *ptr = (<span class="keyword">int</span>*)malloc(<span class="keyword">sizeof</span>(<span class="keyword">int</span>));
<span class="function">free</span>(ptr);
ptr = <span class="keyword">NULL</span>;  <span class="comment">// Prevent accidental use</span>
                </div>

                <h4>3. Buffer Overflows</h4>
                <div class="code-block">
<span class="comment">// BAD</span>
<span class="keyword">int</span> arr[<span class="number">5</span>];
<span class="keyword">int</span> *ptr = arr;
ptr[<span class="number">10</span>] = <span class="number">42</span>;  <span class="comment">// Writing beyond array bounds!</span>

<span class="comment">// GOOD</span>
<span class="keyword">int</span> arr[<span class="number">5</span>];
<span class="keyword">int</span> *ptr = arr;
<span class="keyword">if</span> (index >= <span class="number">0</span> && index < <span class="number">5</span>) {
    ptr[index] = <span class="number">42</span>;  <span class="comment">// Bounds checking</span>
}
                </div>

                <h3>Debugging Tips</h3>
                <div class="info-box warning">
                    <h4>🔍 Debugging Pointer Issues</h4>
                    <ul>
                        <li>Use tools like Valgrind (Linux) or AddressSanitizer</li>
                        <li>Print pointer values and addresses for debugging</li>
                        <li>Use debugger to step through pointer operations</li>
                        <li>Initialize all variables to catch uninitialized access</li>
                    </ul>
                </div>

                <div class="interactive-example">
                    <h4>Safe Pointer Function Example</h4>
                    <button class="demo-button" onclick="demonstrateSafePointers()">Show Safe Code</button>
                    <div class="output" id="safeOutput"></div>
                </div>

                <h3>Performance Considerations</h3>
                <ul>
                    <li><strong>Cache Locality:</strong> Access memory sequentially when possible</li>
                    <li><strong>Minimize Allocations:</strong> Reuse memory when possible</li>
                    <li><strong>Avoid Deep Pointer Chains:</strong> Too many indirections slow down access</li>
                    <li><strong>Use Stack When Possible:</strong> Stack allocation is faster than heap</li>
                </ul>
            </section>

            <div class="section">
                <h2>🎉 Congratulations!</h2>
                <p>You've completed the comprehensive guide to C pointers! You now understand:</p>
                <ul>
                    <li>What pointers are and why they're useful</li>
                    <li>How to declare, initialize, and use pointers</li>
                    <li>Pointer arithmetic and array relationships</li>
                    <li>Dynamic memory allocation with malloc/free</li>
                    <li>Advanced concepts like function pointers and linked lists</li>
                    <li>Best practices and common pitfalls to avoid</li>
                </ul>
                
                <div class="info-box tip">
                    <h4>🚀 Next Steps</h4>
                    <p>Practice by implementing data structures like linked lists, binary trees, and hash tables. The more you use pointers, the more natural they'll become!</p>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <h3>Master C Pointers</h3>
            <p>Keep practicing and experimenting with pointers to become proficient in C programming!</p>
            <p>&copy; 2024 C Programming Guide. Built with HTML, CSS, and JavaScript.</p>
        </div>
    </footer>

    <script>
        // Progress bar functionality
        function updateProgressBar() {
            const sections = document.querySelectorAll('.section');
            const progressBar = document.getElementById('progressBar');
            const scrollPosition = window.scrollY;
            const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollPosition / documentHeight) * 100;
            progressBar.style.width = Math.min(progress, 100) + '%';
        }

        window.addEventListener('scroll', updateProgressBar);

        // Interactive demonstrations
        function showMemoryLayout() {
            const memoryLayout = document.getElementById('memoryLayout');
            memoryLayout.innerHTML = `
                <div class="memory-cell">
                    <div class="memory-address">0x7fff5fbff61c</div>
                    <div class="memory-value">Variable: num</div>
                    <div class="memory-value">Value: 42</div>
                </div>
                <div class="memory-cell highlighted">
                    <div class="memory-address">0x7fff5fbff620</div>
                    <div class="memory-value">Variable: ptr</div>
                    <div class="memory-value">Points to: 0x7fff5fbff61c</div>
                </div>
            `;
        }

        function demonstratePointers() {
            const output = document.getElementById('pointerOutput');
            output.textContent = `
Step-by-step pointer demonstration:

1. int number = 25;
   - Creates variable 'number' with value 25
   - Let's say it's stored at address 0x7fff5fbff61c

2. int *ptr;
   - Declares a pointer variable 'ptr'
   - Can hold address of an integer

3. ptr = &number;
   - Assigns address of 'number' to 'ptr'
   - ptr now contains 0x7fff5fbff61c

4. printf("%d", *ptr);
   - Dereferences ptr to get value at that address
   - Prints: 25

5. *ptr = 50;
   - Changes value at address stored in ptr
   - number is now 50 (modified through pointer!)

Final state:
- number = 50
- ptr = 0x7fff5fbff61c
- *ptr = 50
            `;
        }

        function demonstrateArithmetic() {
            const demo = document.getElementById('arithmeticDemo');
            const output = document.getElementById('arithmeticOutput');
            
            demo.innerHTML = `
                <div class="memory-cell highlighted">
                    <div class="memory-address">0x1000</div>
                    <div class="memory-value">arr[0] = 10</div>
                    <div class="memory-value">← ptr</div>
                </div>
                <div class="memory-cell">
                    <div class="memory-address">0x1004</div>
                    <div class="memory-value">arr[1] = 20</div>
                </div>
                <div class="memory-cell">
                    <div class="memory-address">0x1008</div>
                    <div class="memory-value">arr[2] = 30</div>
                </div>
                <div class="memory-cell">
                    <div class="memory-address">0x100C</div>
                    <div class="memory-value">arr[3] = 40</div>
                </div>
            `;

            output.textContent = `
Pointer Arithmetic Example:

int arr[] = {10, 20, 30, 40};
int *ptr = arr;  // ptr points to arr[0]

ptr points to: 10 (at address 0x1000)
ptr + 1 points to: 20 (at address 0x1004)
ptr + 2 points to: 30 (at address 0x1008)
ptr + 3 points to: 40 (at address 0x100C)

Note: Adding 1 to an int pointer moves it by sizeof(int) bytes (usually 4)!
            `;
        }

        function demonstrateArrayTraversal() {
            const output = document.getElementById('arrayOutput');
            output.textContent = `
Array Traversal with Pointers:

int numbers[] = {5, 10, 15, 20, 25};
int *ptr = numbers;

Method 1 - Using pointer arithmetic:
for (int i = 0; i < 5; i++) {
    printf("%d ", *(ptr + i));
}
Output: 5 10 15 20 25

Method 2 - Moving the pointer:
for (int i = 0; i < 5; i++) {
    printf("%d ", *ptr);
    ptr++;
}
Output: 5 10 15 20 25

Method 3 - Pointer as array:
for (int i = 0; i < 5; i++) {
    printf("%d ", ptr[i]);
}
Output: 5 10 15 20 25
            `;
        }

        function demonstrateStringReverse() {
            const output = document.getElementById('stringOutput');
            output.textContent = `
String Reversal using Pointers:

Original string: "Hello"

char str[] = "Hello";
char *start = str;
char *end = str + strlen(str) - 1;

while (start < end) {
    // Swap characters
    char temp = *start;
    *start = *end;
    *end = temp;
    
    start++;
    end--;
}

Reversed string: "olleH"

This demonstrates how pointers can efficiently manipulate strings!
            `;
        }

        function demonstrateSwap() {
            const output = document.getElementById('swapOutput');
            output.textContent = `
Swap Function Demonstration:

Before calling swap():
x = 10, y = 20

void swap(int *a, int *b) {
    int temp = *a;  // temp = 10
    *a = *b;        // *a = 20 (x becomes 20)
    *b = temp;      // *b = 10 (y becomes 10)
}

swap(&x, &y);  // Pass addresses of x and y

After calling swap():
x = 20, y = 10

The function modified the original variables because we passed their addresses!
            `;
        }

        function demonstrateFunctionPointers() {
            const output = document.getElementById('functionOutput');
            output.textContent = `
Function Pointer Calculator:

int add(int a, int b) { return a + b; }
int subtract(int a, int b) { return a - b; }
int multiply(int a, int b) { return a * b; }

int (*operation)(int, int);  // Function pointer declaration

operation = add;
Result: 5 + 3 = 8

operation = subtract;
Result: 5 - 3 = 2

operation = multiply;
Result: 5 * 3 = 15

Function pointers enable dynamic function selection at runtime!
            `;
        }

        function demonstrateMalloc() {
            const output = document.getElementById('mallocOutput');
            output.textContent = `
Dynamic Memory Allocation Example:

Enter size: 5

// Allocate memory for 5 integers
int *arr = (int*)malloc(5 * sizeof(int));

if (arr == NULL) {
    printf("Memory allocation failed!\\n");
    return 1;
}

// Fill array with squares
for (int i = 0; i < 5; i++) {
    arr[i] = i * i;
}

Results:
0² = 0
1² = 1
2² = 4
3² = 9
4² = 16

free(arr);  // Don't forget to free the memory!

Memory successfully allocated and deallocated.
            `;
        }

        function demonstrateDoublePointer() {
            const output = document.getElementById('doublePointerOutput');
            output.textContent = `
Pointer to Pointer Demonstration:

int value = 42;
int *ptr = &value;      // ptr points to value
int **pptr = &ptr;      // pptr points to ptr

Memory Layout:
┌─────────────┐
│ value = 42  │ ← ptr points here
└─────────────┘
┌─────────────┐
│ ptr = addr  │ ← pptr points here
└─────────────┘
┌─────────────┐
│ pptr = addr │
└─────────────┘

Access methods:
value = 42
*ptr = 42      (dereference ptr once)
**pptr = 42    (dereference pptr twice)

All three expressions give the same result: 42
            `;
        }

        function demonstrateLinkedList() {
            const output = document.getElementById('linkedListOutput');
            output.textContent = `
Simple Linked List Creation:

struct Node {
    int data;
    struct Node *next;
};

Creating nodes:
Node 1: data = 10, next = address of Node 2
Node 2: data = 20, next = address of Node 3  
Node 3: data = 30, next = NULL

Visual representation:
┌────┬────┐    ┌────┬────┐    ┌────┬────┐
│ 10 │ ●──┼───→│ 20 │ ●──┼───→│ 30 │NULL│
└────┴────┘    └────┴────┘    └────┴────┘

Traversal output:
10 -> 20 -> 30 -> NULL

This demonstrates how pointers enable dynamic data structures!
            `;
        }

        function demonstrateSafePointers() {
            const output = document.getElementById('safeOutput');
            output.textContent = `
Safe Pointer Programming Example:

// Safe function that validates input
int safe_array_sum(int *arr, int size) {
    // Always validate pointer parameters
    if (arr == NULL) {
        printf("Error: NULL pointer passed\\n");
        return -1;
    }
    
    if (size <= 0) {
        printf("Error: Invalid size\\n");
        return -1;
    }
    
    int sum = 0;
    for (int i = 0; i < size; i++) {
        sum += arr[i];  // Safe because we validated inputs
    }
    
    return sum;
}

// Safe dynamic allocation
int *create_array(int size) {
    if (size <= 0) return NULL;
    
    int *arr = (int*)malloc(size * sizeof(int));
    if (arr == NULL) {
        printf("Memory allocation failed\\n");
        return NULL;
    }
    
    // Initialize to prevent garbage values
    for (int i = 0; i < size; i++) {
        arr[i] = 0;
    }
    
    return arr;
}

Key safety practices demonstrated:
✓ Validate all pointer parameters
✓ Check malloc() return value
✓ Initialize allocated memory
✓ Handle error conditions gracefully
            `;
        }

        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Initialize progress bar
        updateProgressBar();
    </script>
</body>
</html>